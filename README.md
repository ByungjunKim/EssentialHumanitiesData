# 인문학도를 위한 데이터 리터러시: 파일 형식의 이해

디지털 시대의 인문학 연구는 새로운 도구와 방법론을 필요로 한다. 단순히 텍스트를 디지털화하는 것을 넘어, 컴퓨터가 이해하고 분석할 수 있는 형태로 데이터를 구조화하는 것이 중요해졌다. 김동인의 소설 「감자」를 예시로, 인문학 연구에서 활용되는 주요 데이터 형식들을 살펴본다.

## 1. 기계가독형 데이터를 왜 이해해야 하는가?

### 1.1 텍스트는 데이터가 아닐 수 있다
디지털 시대에 진입하면서 많은 인문학 연구자들은 자신들의 연구 자료가 "이미 디지털화되어 있으니 데이터로 존재한다"고 생각하기 쉽다. 하지만 이는 중대한 오해이며 PDF나 워드 문서에 담긴 텍스트는 컴퓨터가 내용을 "읽을" 수는 있지만, 의미있는 분석을 수행하기는 어렵다.

**디지털화된 텍스트와 데이터의 차이**
- 디지털화된 텍스트: 단순히 아날로그 형태의 텍스트를 디지털 형태로 전환한 것
- 데이터로서의 텍스트: 구조화되어 컴퓨터가 처리하고 분석할 수 있는 형태로 변환된 것

### 1.2 인문학 자료를 데이터로 인식하면 바뀌는 것들
인문학 자료를 데이터로 변환하면 다음과 같은 새로운 연구 가능성이 열린다:

1. **패턴 발견**
   - 대규모 텍스트 코퍼스에서 언어 사용의 패턴 분석
   - 시대별, 작가별 문체 비교 분석
   - 문화적 트렌드의 정량적 분석

2. **새로운 연구 질문**
   - "이 작가의 전체 작품에서 특정 주제어의 사용 빈도는 어떻게 변화했는가?"
   - "특정 시대의 문학 작품들에서 남성/여성 인물의 형용사 사용 비율은 어떠한가?"
   - "역사 문헌에서 특정 사건의 서술 방식은 시대별로 어떻게 달라지는가?"

## 2. 텍스트 파일 (TXT)

### 특징과 구조
- 가장 기본적인 텍스트 저장 방식
- 서식이나 특별한 구조가 없는 순수 텍스트
- 용량이 작고 호환성이 뛰어나다

### 예시: novel.txt
```
[감자]
작가: 김동인
발표: 1925년
장르: 단편소설

싸움, 간통, 살인, 도둑, 구걸, 징역, 이 세상의 모든 비극과 활극의 근원지인, 칠성문 밖 빈민굴로 오기 전까지는...
```

## 3. CSV/TSV (표 형식 데이터)

### 특징과 구조
- CSV(Comma-Separated Values): 쉼표로 구분된 데이터
- TSV(Tab-Separated Values): 탭으로 구분된 데이터
- 행과 열로 구성된 구조화된 정보
- 스프레드시트 프로그램과 호환성이 좋다

### 예시: characters.csv
```csv
이름,신분,나이,성별,직업,성격특성,거주지,가족관계
복녀,농민,28,여성,소작농,"순박함,성실함,순종적",산골 마을,"남편(정선달-사망), 자녀(딸-사망)"
김 주사,지주,50,남성,지주겸 고리대금업자,"탐욕스러움,교활함,이기적",산골 마을,없음
```

### 예시: events.tsv
```
장	사건	시기	장소	관련인물	내용	결과
1	남편과 딸의 죽음	이야기 시작 전	산골 마을	복녀,정선달	남편과 딸이 병으로 사망	복녀 혼자 남음
2	김 주사의 착취 시작	봄	감자밭	복녀,김 주사	소작료 인상 요구	복녀의 생활고 심화
```

### CSV/TSV 파일 작성 규칙

1. **헤더 작성**
   - 명확하고 간단한 열 이름 사용
   - 공백 대신 언더스코어(_) 사용
   - 특수문자 피하기
   - 열 이름은 고유해야 한다

2. **데이터 입력 규칙**
   - 쉼표나 탭이 포함된 데이터는 큰따옴표로 묶기
     ```csv
     이름,설명
     김철수,"학생, 18세"
     ```
   - 줄바꿈이 포함된 경우:
     ```csv
     제목,내용
     첫번째 글,"여러 줄의
     내용을 입력할 때"
     ```
   - 큰따옴표 자체를 데이터로 포함할 경우:
     ```csv
     말한내용,화자
     "그가 ""안녕""이라고 말했다",김철수
     ```

3. **결측치 처리**
   - 빈 값: ""
   - NULL 값: 공백없이 콤마만 사용
   ```csv
   이름,나이,직업
   홍길동,25,
   김철수,,학생
   ```

4. **주의사항**
   - CSV 파일의 경우:
     - 데이터 내 쉼표는 반드시 큰따옴표로 묶기
     - 열 구분자로 쉼표 사용
   - TSV 파일의 경우:
     - 데이터 내 탭은 반드시 큰따옴표로 묶기
     - 열 구분자로 탭 사용
   - 인코딩은 UTF-8 권장
   - 파일 끝에 빈 줄 포함 여부 통일

## 4. JSON (JavaScript Object Notation)

### 특징과 구조
- 계층적 구조를 가진 데이터 표현 방식
- 객체와 배열을 통해 복잡한 관계 표현 가능
- 웹 환경에서 널리 사용된다
- 사람이 읽고 쓰기 쉬운 형식

### JSON 작성 규칙

1. **들여쓰기**
   - 가독성을 위해 2칸 또는 4칸 들여쓰기 사용
   - 객체와 배열의 내부 요소는 반드시 들여쓰기 적용
   - 일관된 들여쓰기 스타일 유지

2. **콤마 규칙**
   - 객체와 배열의 요소들은 콤마로 구분
   - 마지막 항목에는 콤마를 붙이지 않는다
   - 콤마 누락이나 불필요한 콤마는 문법 오류 발생

3. **키 이름 규칙**
   - 의미있는 이름 사용
   - 일관된 명명 규칙 적용 (예: snake_case 또는 camelCase)
   - 한글 사용 가능하나 인코딩 주의
   - 특수문자는 가급적 사용하지 않는다

4. **주석 처리**
   - JSON 표준은 주석을 지원하지 않는다
   - 필요한 경우 별도의 문서화 or 주석용 키 사용
   - 개발 환경에서만 //나 /* */ 주석 사용

### 예시: gamja.json
```json
{
  "작품": {                              // 최상위 객체
    "제목": "감자",                      // 문자열 값
    "저자": "김동인",
    "출판년도": 1925,                    // 숫자 값
    "주요_등장인물": [                   // 배열 시작
      {                                  // 배열 내 객체
        "이름": "복녀",
        "신분": "농민",
        "나이": 28,
        "성격특성": [                    // 문자열 배열
          "순박함", 
          "성실함", 
          "순종적"
        ],
        "변화과정": [                    // 객체 배열
          {
            "단계": "농사꾼의 아내",
            "상태": "가난하지만 성실한 삶"
          },
          {
            "단계": "과부",
            "상태": "생계를 위한 고군분투"
          }
        ]
      }
    ]
  }
}
```

### TEI의 핵심 구성요소와 특징

1. **문서 구조화의 기본 원칙**
   - 모든 TEI 문서는 단일 루트 요소(`<TEI>`)를 가진다
   - 메타데이터(`<teiHeader>`)는 필수 요소다
   - 실제 내용은 `<text>` 요소 내에 위치한다

2. **텍스트 구조화를 위한 주요 모듈**
   - **core**: 모든 TEI 문서에서 사용되는 기본 요소들
     - `<p>`: 문단
     - `<list>`: 목록
     - `<quote>`: 인용
     - `<ref>`: 참조
   - **header**: 문서의 메타데이터
     - `<fileDesc>`: 전자 파일에 대한 서지 정보
     - `<profileDesc>`: 텍스트의 비서지적 측면
     - `<revisionDesc>`: 변경 이력
   - **textstructure**: 텍스트의 기본 구조
     - `<text>`: 단일 텍스트
     - `<front>`: 전문(前文)
     - `<body>`: 본문
     - `<back>`: 후문(後文)
   - **namesdates**: 이름과 날짜 관련
     - `<persName>`: 인명
     - `<placeName>`: 지명
     - `<date>`: 날짜
   - **drama**: 희곡 관련
     - `<sp>`: 대사
     - `<speaker>`: 화자
     - `<stage>`: 지시문

### XML/TEI 구성 요소와 작성 규칙

1. **기본 구성 요소**
   - **요소(Element)**: 시작 태그와 끝 태그로 구성
   - **속성(Attribute)**: 태그 내에 추가 정보 제공
   - **네임스페이스(Namespace)**: XML 요소의 이름 충돌 방지

2. **TEI 헤더 구성**
   ```xml
   <teiHeader>
     <fileDesc>
       <titleStmt>
         <title>작품명</title>
         <author>작가명</author>
         <respStmt>
           <resp>편집자</resp>
           <name>편집자명</name>
         </respStmt>
       </titleStmt>
       <publicationStmt>
         <publisher>출판사</publisher>
         <date>출판연도</date>
         <availability>
           <p>저작권 정보</p>
         </availability>
       </publicationStmt>
     </fileDesc>
   </teiHeader>
   ```

3. **본문 구조화 방법**
   ```xml
   <text>
     <body>
       <!-- 장/절 구분 -->
       <div type="chapter" n="1">
         <head>제1장</head>
         <!-- 문단 구분 -->
         <p>문단 내용...</p>
       </div>
       <!-- 등장인물 정보 -->
       <div type="character">
         <person xml:id="CHAR001">
           <persName>인물명</persName>
           <trait type="personality">성격</trait>
         </person>
       </div>
     </body>
   </text>
   ```

4. **태그와 속성 작성 규칙**
   - 모든 요소는 열고 닫아야 한다
   - 속성값은 반드시 따옴표로 감싸기
   - ID는 문서 내에서 유일해야 한다
   - 들여쓰기로 계층 구조 표현

### TEI 문서의 주요 활용

1. **텍스트 인코딩 단계**
   - 원본 텍스트 분석 및 구조 파악
   - 적절한 TEI 모듈과 요소 선택
   - 메타데이터 준비
   - 실제 인코딩 작업
   - 유효성 검증

2. **메타데이터 기술**
   - 서지정보: 제목, 저자, 출판정보
   - 인코딩 정보: 책임자, 방법론, 원칙
   - 프로파일: 언어, 생성 맥락, 분류
   - 수정 이력: 버전 관리, 변경 사항

3. **텍스트 구조화 방법**
   - 물리적 구조: 페이지, 단, 행
   - 논리적 구조: 장, 절, 문단
   - 의미적 구조: 등장인물, 사건, 장소
   - 언어적 구조: 문장, 구, 어휘

4. **주석과 해설**
   - `<note>`: 일반 주석
   - `<app>`: 이문(異文) 기록
   - `<interp>`: 해석 정보
   - `<analytic>`: 분석 정보

### 예시: gamja.xml
```xml
<?xml version="1.0" encoding="UTF-8"?>
<TEI xmlns="http://www.tei-c.org/ns/1.0">
  <teiHeader>
    <fileDesc>
      <titleStmt>
        <title>감자</title>
        <author>김동인</author>
        <respStmt>
          <resp>TEI 인코딩</resp>
          <name>디지털 인문학 연구소</name>
        </respStmt>
      </titleStmt>
      <publicationStmt>
        <publisher>개벽</publisher>
        <date>1925</date>
      </publicationStmt>
    </fileDesc>
  </teiHeader>
  <text>
    <body>
      <div type="character">
        <person xml:id="BOKNYEO">
          <persName>복녀</persName>
          <trait type="personality">순박함</trait>
          <residence>산골 마을</residence>
        </person>
      </div>
    </body>
  </text>
</TEI>
```

## 5. 주피터 노트북 (IPYNB)

### 특징과 의의
- 코드, 실행 결과, 설명을 하나의 문서에 통합한다
- 데이터 분석 과정을 단계별로 기록하고 공유할 수 있다
- 재현 가능한 연구를 위한 도구다

### 활용 예시
첨부된 data_handling_notebook.ipynb는 다양한 형식의 데이터를 파이썬으로 처리하는 방법을 보여준다:
- TXT 파일에서 본문 추출
- CSV/TSV 파일에서 등장인물 정보 분석
- JSON 데이터에서 작품 정보 추출
- XML/TEI 문서에서 구조화된 정보 활용

### 파일 형식별 처리 방법
1. **텍스트 파일 (TXT)**
   - 기본 파이썬 함수로 읽고 쓸 수 있다
   ```python
   with open('novel.txt', 'r', encoding='utf-8') as f:
       text = f.read()
   ```

2. **CSV/TSV 파일**
   - pandas 라이브러리로 데이터프레임 형태로 처리한다
   ```python
   import pandas as pd
   df = pd.read_csv('characters.csv')
   df_tsv = pd.read_csv('events.tsv', sep='\t')
   ```

3. **JSON 파일**
   - json 라이브러리로 파이썬 딕셔너리와 리스트로 변환한다
   ```python
   import json
   with open('gamja.json', 'r', encoding='utf-8') as f:
       data = json.load(f)
   ```

4. **XML/TEI 파일**
   - xml.etree.ElementTree 모듈로 트리 구조를 처리한다
   ```python
   import xml.etree.ElementTree as ET
   tree = ET.parse('gamja.xml')
   root = tree.getroot()
   ```

## 6. 결론: 왜 이러한 파일 형식을 이해해야 하는가?

1. **연구의 확장성**
   - 대규모 텍스트 분석이 가능하다
   - 패턴과 경향성을 발견할 수 있다
   - 계량적 분석을 통한 새로운 통찰을 얻을 수 있다

2. **데이터의 재사용성**
   - 표준화된 형식으로 데이터를 공유할 수 있다
   - 다른 연구자들과의 협업이 용이하다
   - 연구 결과의 검증이 가능하다

3. **디지털 방법론의 활용**
   - 텍스트 마이닝을 수행할 수 있다
   - 네트워크 분석이 가능하다
   - 시각화 도구를 활용할 수 있다

4. **연구의 효율성**
   - 자동화된 데이터 처리가 가능하다
   - 대규모 코퍼스 분석을 할 수 있다
   - 시간과 노력을 절감할 수 있다